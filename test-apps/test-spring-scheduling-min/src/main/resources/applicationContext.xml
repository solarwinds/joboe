<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
       xmlns:aop="http://www.springframework.org/schema/aop" xmlns:context="http://www.springframework.org/schema/context"
       xmlns:jee="http://www.springframework.org/schema/jee" xmlns:tx="http://www.springframework.org/schema/tx"
       xmlns:task="http://www.springframework.org/schema/task"
       xsi:schemaLocation="http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.2.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.2.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.2.xsd http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.2.xsd">


<!--    <bean id="myTask" class="com.appoptics.test.Task" />-->
<!--    <bean id="exceptionTask" class="com.appoptics.test.ExceptionTask" />-->

<!--    <bean id="methodInvokingRunnable1"-->
<!--          class="org.springframework.scheduling.support.MethodInvokingRunnable">-->
<!--        <property name="targetObject" ref="myTask" />-->
<!--        <property name="targetMethod" value="sayHello" />-->
<!--    </bean>-->

<!--    <bean id="methodInvokingRunnable2"-->
<!--          class="org.springframework.scheduling.support.MethodInvokingRunnable">-->
<!--        <property name="targetObject" ref="exceptionTask" />-->
<!--        <property name="targetMethod" value="triggerException" />-->
<!--    </bean>-->

<!--    <bean id="scheduledExecutorTaskTask1"-->
<!--          class="org.springframework.scheduling.concurrent.ScheduledExecutorTask">-->
<!--        <property name="runnable" ref="methodInvokingRunnable1" />-->
<!--        <property name="delay" value="1000" />-->
<!--        <property name="period" value="5000" />-->
<!--    </bean>-->

<!--    <bean id="scheduledExecutorTaskTask2"-->
<!--          class="org.springframework.scheduling.concurrent.ScheduledExecutorTask">-->
<!--        <property name="runnable" ref="methodInvokingRunnable2" />-->
<!--        <property name="delay" value="1000" />-->
<!--        <property name="period" value="5000" />-->
<!--    </bean>-->

<!--    <bean class="org.springframework.scheduling.concurrent.ScheduledExecutorFactoryBean">-->
<!--        <property name="ScheduledExecutorTasks">-->
<!--            <list>-->
<!--                <ref local="scheduledExecutorTaskTask1" />-->
<!--                <ref local="scheduledExecutorTaskTask2" />-->
<!--            </list>-->
<!--        </property>-->
<!--    </bean>-->
    <task:annotation-driven />

    <bean id="task" class="com.appoptics.test.Task"></bean>
    <bean id="exceptionTask" class="com.appoptics.test.ExceptionTask"></bean>

    <task:scheduled-tasks>
        <task:scheduled ref="exceptionTask" method="triggerException" cron="*/10 * * * * ?"></task:scheduled>
    </task:scheduled-tasks>
</beans>